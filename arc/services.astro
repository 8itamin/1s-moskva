---
import BaseLayout from "../../../layouts/BaseLayout.astro";
import { getLangCountryStaticPaths } from "../../../lib/seo/staticPaths";
import { getServicesByLangCountry } from "../../../lib/airtable/pages";

const SITE = "https://programister.ru";

export const getStaticPaths = getLangCountryStaticPaths;

const { lang, country } = Astro.params;
const services = await getServicesByLangCountry({ lang, country });

const canonical = `${SITE}/${lang}/${country}/services/`;
---

<BaseLayout
  title={`Услуги 1С — ${lang.toUpperCase()} / ${country.toUpperCase()} | Programister`}
  description="Все услуги 1С: программисты, внедрение, сопровождение, обучение."
  canonical={canonical}
>
  <main class="container">
    <h1>Услуги</h1>

    <ul>
      {(services ?? []).map((s) => (
        <li>
          <a href={`/${lang}/${country}/services/${s.slug}/`}>
            {s.name}
          </a>
        </li>
      ))}
    </ul>
  </main>
</BaseLayout>
